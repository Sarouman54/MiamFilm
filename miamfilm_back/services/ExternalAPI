const configApiExterne = require('./../config.api.externe.js');
const axios = require('axios');

exports.getAllGame = async () => {
    await configApiExterne.getAuthorization();

    let data = `fields name;`;

    let config = {
      method: 'post',
      maxBodyLength: Infinity,
      url: 'https://api.themoviedb.org/3/discover/movie?language=fr-FR&page=1',
      headers: { 
        'Content-Type': 'text/plain'
      },
      data
    };
    return axios.request(config)
    .then((response) => {
      console.log(JSON.stringify(response.data));
      return response.data
    })
    .catch((error) => {
      console.log(error);
      return null
    });
}
